<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="index.css" type="text/css">

    <!-- Import the component -->
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>


</head>

<body>
    <a href="copy.html">Visitar la copia</a>
    <!--<div id="iframe prueba">
        <iframe src="https://believed-gigantic-month.glitch.me" width="450" height="450"></iframe>
        <iframe src="https://believed-gigantic-month.glitch.me" title="believed-gigantic-month" allow="geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen" allowfullscreen="" class="css-5n03t4"></iframe>
    </div>-->



    <script language="JavaScript" Type="text/javascript">

        window.addEventListener('contextmenu', function (e) {

            e.preventDefault();
        }, false);

    </script>

    <div id="chargeglb" class="demo">
        <model-viewer   id="hotspot-demo"
                        camera-controls touch-action="pan-y" 
                        magic-leap ar 
                        src="Anim_lenovo_01.glb" 
                        ios-src="Anim_lenovo_01_0003.usdz" 
                        autoplay animation-name="Idle_Close"
                        ar-mode="webxr"
                        ar-scale="fixed" 
                        shadow-intensity="1" 
                        data-js-focus-visible alt="A 3D model of an astronaut.">
            <button class="Hotspot" slot="hotspot-1"
                data-position="-0.13071555700883974m 0.22442836289098317m 0.07035857416693031m"
                data-normal="-0.7464341081338857m 0.0761128863078328m -0.6610922407291296m"
                data-visibility-attribute="visible">
                <div class="HotspotAnnotation">usb</div>
            </button>
            <button slot="hotspot-visor" data-position="-0.18 0.22 0.08" data-normal="0 0 1">
                <div id="annotation">usb </div>
            </button>

            <button slot="hotspot-hand" data-position="0.1 0.7 0.1" data-normal="-0.73 0.05 0.69">
                <div id="annotation">This hotspot disappears completely</div>
            </button>

            <button slot="hotspot-foot" data-position="0.16 0.1 0.17" data-normal="-0.07 0.97 0.23"
                data-visibility-attribute="visible"></button>


            <button slot="hotspot-dot+X-Y+Z" class="dot" data-position="0 0 0" data-normal="1 0 0"></button>

            <div id="controls" class="dim">
                <label for="animationName">Cambiar animaciones</label>
                <select id="selectanim">
                    <option disabled selected value> -- seleccionar -- </option>
                    <option value="Open_Screen">Abrir</option>
                    <option value="Close_Screen.001">Cerrar</option>

                </select>
            </div>
           

        </model-viewer>
        
    </div>
    <script>

        const modelViewer = document.querySelector('#hotspot-demo');

        modelViewer.querySelector('#selectanim').addEventListener('input', (event) => {
            modelViewer.animationName = event.target.value;

            /*self.setInterval(() => {
                modelViewer.animationName = modelViewer.animationName === 'idle' ?
                    'Rotate' : 'idle';
            }, 1500.0);*/
            if (event.target.value == "Open_Screen") {

                setTimeout(() => {
                    console.log("1 Segundo esperado")
                    modelViewer.animationName = "Idle_Open_Screen";
                }, 1000);

            } else if (event.target.value == "Close_Screen") {

                setTimeout(() => {
                    console.log("20 Segundos esperado")
                    modelViewer.animationName = "Idle_Close";
                }, 20000);

            }



        })



        var select = document.getElementById('selectanim');
        select.addEventListener('change',
            function () {
                var selectedOption = this.options[select.selectedIndex];
                console.log(selectedOption.value + ': ' + selectedOption.text);
            });

    </script>
    
    
</body>

</html>